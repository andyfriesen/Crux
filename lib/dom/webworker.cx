import js

// should this module be specific to implementing webworkers? and another for sending?

declare self<a>: a

export fun setHandler(handler: js.Value => ()): () {
  self.onmessage = handler
}

export fun postMessage<Value: js.ToValue>(value: Value) {
  self.postMessage(value)
}
